!function(t){t.fn.hgdParallaxSlider=function(e){function i(e){var i=t(g[e]),s=(u-o)*(i.height()-r)/o,a=(c-h)*(i.width()-d)/h;i.animate({left:a>0?0:a,top:s>0?0:s},{duration:200==f&&200==w?1200:550,easing:"easeOutSine",queue:!1})}function s(){d=n.innerWidth(),a.autoHeight&&n.css("height",d/a.stages[0].aspect),r=n.innerHeight(),h=t(window).innerWidth(),o=t(window).innerHeight();for(var e=1,s=d/(2*Math.sin(a.stage.fov*Math.PI/360)),c=0,u=0,f=0;f<a.stages.length;f++)a.stages[f].css.width=2*Math.sin(a.stage.fov*Math.PI/360)*(100-a.stages[f].distance+s),a.stages[f].css.height=a.stages[f].css.width/a.stages[f].aspect,(0==c||c>a.stages[f].css.width)&&(c=a.stages[f].css.width),(0==u||u>a.stages[f].css.height)&&(u=a.stages[f].css.height);e=d*a.maxSizeRatio/c>r*a.maxSizeRatio/u?d*a.maxSizeRatio/c:r*a.maxSizeRatio/u;for(var f=0;f<a.stages.length;f++)t(g[f]).css({width:a.stages[f].css.width*e,height:a.stages[f].css.height*e}),i(f)}var a=t.extend({stages:[],stage:{fov:147},maxSizeRatio:1.1,autoHeight:!1},e),n=t(this),g=n.find(".stage"),h=t(window).innerWidth(),o=t(window).innerHeight(),d=n.innerWidth(),r=n.innerHeight(),c=200,u=200,f=200,w=200;return t(document).on("mousemove",function(t){if(c=t.pageX,u=t.pageY,(Math.abs(t.pageX-f)>100||Math.abs(t.pageY-w)>100||void 0!=t.automation)&&(f=t.pageX,w=t.pageY,t.pageY<o+r))for(var e=0;e<g.length;e++)i(e)}),t(window).load(function(){s()}).resize(function(){s()}),this}}(jQuery);